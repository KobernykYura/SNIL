@using SnilAcademicDepartment.BusinessLogic.DTOModels;
@using System.Linq;
@{
	@Styles.Render("~/Content/educationcss")
	Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container">
	<ol class="breadcrumb">
		<li>
			@Html.ActionLink(Resources.Resource.Home, "Index", "Home")
		</li>
		<li>
			@Html.ActionLink(Resources.Resource.Education, "Education", "Education")
		</li>
		<li class="active">@ViewBag.EducationResourseTitle</li>
	</ol>
</div>

<div class="container">
	<div class="row rowcurrent">
		@{
			if (ViewBag.Components is IEnumerable<IGrouping<int, SeminarPreview>>)
			{
				foreach (IGrouping<int, SeminarPreview> group in ViewBag.Components)
				{
					<div class="page-header">
						<h1>@ViewBag.EducationResourseTitle <small>@group.Key</small></h1>
					</div>
					<div class="row flex-container" >
						@foreach (var seminar in group)
						{
						<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
							<div class="block thumbnail">
								<h4>@seminar.Title</h4><br>
								<div class="seminar-content">
									<p> @seminar.Topic</p><br />
									<strong>@Resources.EducationResources.EducationResource.SeminarSpeaker: </strong>
									<ul class="speaker-list">
										@foreach (string speaker in seminar.SpeakersProfessionStatusAndFullNames)
										{
											<li class="speaker">@speaker</li>
										}
									</ul>
								</div>
								@Html.ActionLink(Resources.Resource.Download, "GetFileById", new { controller = "File", action = "GetFileById", id = seminar.DocumentId })
							</div>
						</div>
						}
					</div>
				}
			}
			else
			if (ViewBag.Components is IEnumerable<LecturePreview>)
			{
				<div class="page-header">
					<h1>@ViewBag.EducationResourseTitle</h1>
				</div>
				<div class="row flex-container">
					@foreach (LecturePreview component in ViewBag.Components)
					{
						<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
							<div class="block thumbnail">
								<h4>@component.LectureTitle</h4><br>
								<div class="lecture-content">
									<p> @component.Specialisation</p><br />
									<strong>@Resources.EducationResources.EducationResource.LectureSpeaker: </strong><br />
									<ul class="author-list">
										<li class="author">@component.Author</li>
									</ul>
								</div>
								@Html.ActionLink(Resources.Resource.Download, "GetFileById", new { controller = "File", action = "GetFileById", id = component.DocumentId })
							</div>
						</div>
					}
				</div>
			}
			else
			if (ViewBag.Components is EducationBlockModel)
			{
				<p style="text-align: center; text-shadow:10px 12px 2px #808080; margin-top: 150px; margin-bottom: 150px"><strong>Sorry, this education block is not avaliable :(</strong></p>
			}
			else
			{
				<p style="text-align: center; text-shadow:10px 12px 2px #808080"><strong>Sorry, this education block is not avaliable :(</strong></p>
			}
		}
	</div>
</div>
