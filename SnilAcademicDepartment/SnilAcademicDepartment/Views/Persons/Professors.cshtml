@using SnilAcademicDepartment.BusinessLogic.DTOModels;
@using SnilAcademicDepartment.Resources.PersonsResources;
@using SnilAcademicDepartment.Resources.ProjectsResources;
@using Resources.EducationResources;

@{
	Layout = "~/Views/Shared/_Layout.cshtml";
	@Styles.Render("~/Content/peoplecss");
}
<div class="container">
	<ol class="breadcrumb">
		<li>
			@Html.ActionLink(Resources.Resource.Home, "Index", "Home")
		</li>
		<li>
			@Html.ActionLink(Resources.Resource.Persons, "Persons", "Persons")
		</li>
		<li class="active">@PersonsResource.Professors</li>
	</ol>
</div>
<div class="container subpage">
	<h2>@PersonsResource.Professors</h2><br>
	@{
		foreach (var professor in ViewData["Professors"] as IList<Professor>)
		{
			var imgSrcBlock = Url.Action("GetImage", new { controller = "Image", id = professor.ImageId });
			var personPageUrl = Url.RouteUrl(new { action = "PersonalPage", controller = "Persons", id = professor.Id });

			<div class="row row-student well">
				<div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
					<a href="@personPageUrl">
						<img src="@imgSrcBlock" alt="@string.Format("{0} {1}",professor.PersonName, professor.SecoundName)" title="@string.Format("{0} {1}",professor.PersonName, professor.SecoundName)">
					</a>
				</div>
				<div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
					<h4>@string.Format("{0} {1} {2}", professor.PersonName, professor.SecoundName, professor.FathersName)</h4>
					<div class="container">
						@{
							if (professor.Projects.Count() > 0)
							{
								@UlStringList(professor.Projects, ProjectResource.Projects);
							}
							if (professor.Seminars.Count() > 0)
							{
								@UlStringList(professor.Seminars, EducationResource.Seminars);
							}
							if (professor.Lectures.Count() > 0)
							{
								@UlStringList(professor.Lectures, EducationResource.Lectures);
							}
						}
					</div>
				</div>
				<div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 row3">
					<ul>
						<li><strong>@PersonsResource.Degree:</strong>  <span>@professor.Degree</span> </li>
						<li><strong>@PersonsResource.AcademicTitle:</strong> <span>@professor.AcademicTitle</span> </li>
						<li><strong>@PersonsResource.ProfessionStatus:</strong> <span>@professor.ProfessionStatus</span> </li>
					</ul>
					<ul>
						<li><strong>@PersonsResource.EmailAddress:</strong>  <span>@professor.EmailAddress</span> </li>
						<li><strong>@PersonsResource.PhoneNumber:</strong> <span>@professor.PhoneNumber</span> </li>
					</ul>
				</div>
			</div>
		}
	}
</div>

@helper UlStringList(IEnumerable<string> collection, string title)
{
	<div>
		<strong>@title:</strong>
		<ul>
			@foreach (var item in collection)
			{
				<li>@item</li>
			}
		</ul>
	</div>
}
